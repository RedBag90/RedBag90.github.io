<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Business Trip Checklist</title>
  <link rel="stylesheet" href="styles/base.css" />
  <link rel="stylesheet" href="styles/layout.css" />
  <link rel="stylesheet" href="styles/components.css" />
  <link rel="stylesheet" href="styles/print.css" media="print" />
</head>
<body>
  <header class="site-header" role="banner">
    <div class="container">
      <div class="header-row">
        <h1>Business Trip Checklist</h1>
        <span id="templateBadge" class="template-badge hidden" aria-live="polite"></span>
      </div>
      <p class="tagline">Plan, pack, and go â€” with weather-aware packing suggestions.</p>
    </div>
  </header>

  <main class="container" role="main">
    <section class="planning-grid" aria-labelledby="trip-form-heading">
      <div class="panel" aria-live="polite">
        <h2 id="trip-form-heading">Trip Settings</h2>
        <form id="tripForm" novalidate>
          <div class="template-toolbar" role="group" aria-labelledby="templateToolbarLabel">
            <span id="templateToolbarLabel" class="template-toolbar__label">Packing Templates</span>
            <label class="sr-only" for="templatePicker">Choose a template</label>
            <select id="templatePicker" name="templatePicker" aria-describedby="templateToolbarLabel">
              <option value="">Select template</option>
            </select>
            <div class="template-toolbar__actions">
              <button type="button" id="applyTemplateBtn" class="btn btn-secondary">Apply</button>
              <button type="button" id="saveTemplateBtn" class="btn btn-outline">Save current as template</button>
              <button type="button" id="deleteTemplateBtn" class="btn btn-outline btn-danger">Delete</button>
            </div>
          </div>
          <fieldset>
            <legend>Destination</legend>
            <div class="form-field">
              <label for="city">City</label>
              <input id="city" name="city" type="text" required aria-required="true" placeholder="e.g., Berlin" />
            </div>
            <div class="form-field">
              <label for="country">Country (optional)</label>
              <input id="country" name="country" type="text" placeholder="e.g., Germany" />
            </div>
          </fieldset>

          <fieldset>
            <legend>Travel Details</legend>
            <div class="form-field">
              <label for="duration">Duration (days)</label>
              <input id="duration" name="duration" type="number" min="1" value="3" />
            </div>
            <div class="form-field">
              <span id="activities-label">Planned Activities</span>
              <div class="activity-grid" role="group" aria-labelledby="activities-label">
                <label><input type="checkbox" value="pitching" class="activity" /> Pitching</label>
                <label><input type="checkbox" value="clientmeeting" class="activity" /> Client Meetings</label>
                <label><input type="checkbox" value="projectwork" class="activity" /> Project Work</label>
                <label><input type="checkbox" value="workshop" class="activity" /> Workshop</label>
                <label><input type="checkbox" value="networking" class="activity" /> Networking</label>
              </div>
            </div>
          </fieldset>

          <div class="form-actions">
            <button type="button" id="generateBtn" class="btn btn-primary">Generate Checklist</button>
            <button type="button" id="shareBtn" class="btn btn-secondary">Share Checklist</button>
            <button type="button" id="exportBtn" class="btn btn-outline">Export Checklist</button>
          </div>
        </form>
      </div>

      <aside class="panel" aria-labelledby="weather-heading">
        <h2 id="weather-heading">Weather Insight</h2>
        <div id="weatherOutput" role="status" aria-live="polite" class="weather-card"></div>
      </aside>
    </section>

    <section class="panel" aria-labelledby="progress-heading">
      <div class="progress-header">
        <h2 id="progress-heading">Packing Progress</h2>
        <span id="progressText" aria-live="polite">0%</span>
      </div>
      <div id="progressContainer" class="progress-container" aria-hidden="true">
        <div id="progressBar" class="progress-bar" style="width: 0%"></div>
      </div>
    </section>

    <section class="panel bag-summary-panel" aria-label="Bag summary">
      <div class="bag-summary" id="bagSummary"></div>
    </section>

    <section class="lists-grid" aria-label="Checklist items">
      <div class="panel">
        <header class="panel-header">
          <h2>To Pack</h2>
          <button type="button" id="addItemBtn" class="btn btn-small">Add Item</button>
        </header>
        <div id="checklistOutput" class="checklist" aria-live="polite"></div>
      </div>
      <div class="panel">
        <h2>Packed</h2>
        <div id="packedOutput" class="checklist" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container">
      <p>Built for efficient business travel planning. Weather data powered by configurable APIs.</p>
    </div>
  </footer>

  <dialog id="customItemDialog" aria-labelledby="custom-item-heading">
    <form method="dialog" class="dialog-form">
      <h2 id="custom-item-heading">Add Custom Item</h2>
      <label for="customItemName">Item name</label>
      <input id="customItemName" name="customItemName" type="text" required />
      <label for="customItemCategory">Category</label>
      <select id="customItemCategory" name="customItemCategory">
        <option value="clothing">Clothing</option>
        <option value="tech">Tech</option>
        <option value="documents">Documents</option>
        <option value="other">Other</option>
      </select>
      <menu class="dialog-actions">
        <button value="cancel" class="btn btn-secondary">Cancel</button>
        <button value="confirm" class="btn btn-primary">Add Item</button>
      </menu>
    </form>
  </dialog>

  <dialog id="applyTemplateModal" class="modal-apply-template" aria-labelledby="applyTemplateTitle" aria-describedby="templateDiffDescription">
    <form method="dialog" class="dialog-form">
      <h2 id="applyTemplateTitle">Apply Template</h2>
      <p id="templateDiffDescription">Review changes before applying <strong id="templateModalName"></strong>.</p>
      <ul class="template-diff-list">
        <li><span class="diff-label">Will add</span><span id="templateDiffAdd" class="diff-value">0</span></li>
        <li><span class="diff-label">Will replace</span><span id="templateDiffReplace" class="diff-value">0</span></li>
        <li><span class="diff-label">Already present</span><span id="templateDiffSkip" class="diff-value">0</span></li>
      </ul>
      <menu class="dialog-actions">
        <button value="cancel" class="btn btn-secondary">Cancel</button>
        <button value="merge" class="btn btn-primary btn-merge">Merge</button>
        <button value="replace" class="btn btn-outline btn-replace">Replace</button>
      </menu>
    </form>
  </dialog>

  <dialog id="saveTemplateDialog" class="modal-save-template" aria-labelledby="saveTemplateTitle">
    <form method="dialog" class="dialog-form">
      <h2 id="saveTemplateTitle">Save Template</h2>
      <label for="templateName">Template name</label>
      <input id="templateName" name="templateName" type="text" required />
      <label class="checkbox-inline">
        <input type="checkbox" id="includeWeatherItems" />
        Include weather items
      </label>
      <menu class="dialog-actions">
        <button value="cancel" class="btn btn-secondary">Cancel</button>
        <button value="confirm" class="btn btn-primary">Save</button>
      </menu>
    </form>
  </dialog>

  <div id="exportRoot" class="export-root" aria-hidden="true"></div>

  <script type="module" src="src/main.js"></script>
</body>
</html>
